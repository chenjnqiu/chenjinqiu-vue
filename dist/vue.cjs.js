!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),Promise.resolve();var activeEffect,effectStack=[];function effect(t){function r(){cleanup(r),activeEffect=r,effectStack.push(r);var e=t();return effectStack.pop(),activeEffect=effectStack[effectStack.length-1],e}var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r.options=e,r.deps=[],e.lazy||r(),r}function cleanup(e){for(var t=0;t<e.deps.length;t++)e.deps[t].delete(e);e.deps.length=0}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var r,n,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==typeof e?e:String(e)}var _mutableInstrumentati,toString=Object.prototype.toString,toTypeString=function(e){return toString.call(e)},isMap=function(e){return"[object Map]"===toTypeString(e)},isSet=function(e){return"[object Set]"===toTypeString(e)};function lis(e){var t,r=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){for(var o=t.value,a=0,i=r.length-1;a<=i;){var c=Math.floor((a+i)/2);r[c]<o?a=c+1:i=c-1}r[a]=o}}catch(e){n.e(e)}finally{n.f()}return r}var reactiveMap=new Map,arrayInstrumentations={},shouldTrack=(["includes","indexOf","lastIndexOf"].forEach(function(e){var o=Array.prototype[e];arrayInstrumentations[e]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=o.apply(this,t);return n=!1!==n&&-1!==n?n:o.apply(this.raw,t)}}),!0);function iterationMethod(){function r(e){return"object"===_typeof(e)?reactive(e):e}var e=this.raw,n=e[Symbol.iterator]();return track(e,ITERATE_KEY),{next:function(){var e=n.next(),t=e.value,e=e.done;return{value:t&&[r(t[0]),r(t[1])],done:e}}}}function valuesIterationMethod(){var e=this.raw,r=e.values();return track(e,ITERATE_KEY),_defineProperty({next:function(){var e=r.next(),t=e.value,e=e.done;return{value:"object"===_typeof(t=t)?reactive(t):t,done:e}}},Symbol.iterator,function(){return this})}function keysIterationMethod(){var e=this.raw,r=e.keys();return track(e,MAP_KEY_ITERATE_KEY),_defineProperty({next:function(){var e=r.next(),t=e.value,e=e.done;return{value:"object"===_typeof(t=t)?reactive(t):t,done:e}}},Symbol.iterator,function(){return this})}["push","pop","shift","unshift","splice"].forEach(function(e){var o=Array.prototype[e];arrayInstrumentations[e]=function(){shouldTrack=!1;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=o.apply(this,t);return shouldTrack=!0,n}});_defineProperty(_mutableInstrumentati={add:function(e){var t=this.raw,r=t.has(e),n=t.add(e);return r||trigger(t,e,"ADD"),n},delete:function(e){var t=this.raw,r=t.has(e),n=t.delete(e);return r&&trigger(t,e,"DELETE"),n},get:function(e){var t=this.raw,r=t.has(e);if(track(t,e),r)return"object"===_typeof(r=t.get(e))?reactive(r):r},set:function(e,t){var r=this.raw,n=r.has(e),o=r.get(e),a=t.raw||t;r.set(e,a),n?(o!==t||o==o&&t==t)&&trigger(r,e,"SET"):trigger(r,e,"ADD")},forEach:function(r,n){function o(e){return"object"===_typeof(e)?reactive(e):e}var a=this,e=this.raw;track(e,ITERATE_KEY),e.forEach(function(e,t){r.call(n,o(e),o(t),a)})}},Symbol.iterator,iterationMethod),_defineProperty(_mutableInstrumentati,"entries",iterationMethod),_defineProperty(_mutableInstrumentati,"values",valuesIterationMethod),_defineProperty(_mutableInstrumentati,"keys",keysIterationMethod);var mutableInstrumentations=_mutableInstrumentati;function createReactive(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new Proxy(e,{get:function(e,t,r){if("raw"===t)return e;if("size"===t)return track(e,ITERATE_KEY),Reflect.get(e,t,e);if(isMap(e)||isSet(e))return mutableInstrumentations[t];if(Array.isArray(e)&&arrayInstrumentations.hasOwnProperty(t))return Reflect.get(arrayInstrumentations,t,r);c||"symbol"===_typeof(t)||track(e,t);e=Reflect.get(e,t,r);return!n&&"object"===_typeof(e)&&null!==e?(c?readonly:reactive)(e):e},has:function(e,t){return track(e,t),Reflect.has(e,t)},ownKeys:function(e){return track(e,Array.isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)},set:function(e,t,r,n){var o,a,i;return c?(console.warn("属性 ".concat(t," 是只读的")),!0):(o=e[t],a=Array.isArray(e)?Number(t)<e.length?"SET":"ADD":Object.prototype.hasOwnProperty.call(e,t)?"SET":"ADD",i=Reflect.set(e,t,r,n),e!==n.raw||o===r||o!=o&&r!=r||trigger(e,t,a,r),i)},deleteProperty:function(e,t){var r,n;return c?(console.warn("属性 ".concat(t," 是只读的")),!0):(r=Object.prototype.hasOwnProperty.call(e,t),(n=Reflect.deleteProperty(e,t))&&r&&trigger(e,t,"DELETE"),n)}})}function reactive(e){var t=reactiveMap.get(e);return t||(t=createReactive(e),reactiveMap.set(e,t),t)}function shallowReactive(e){return createReactive(e,!0,!0)}function readonly(e){return createReactive(e,!1,!0)}var bucket=new WeakMap,ITERATE_KEY=Symbol(),MAP_KEY_ITERATE_KEY=Symbol();function track(e,t){if(!activeEffect||!shouldTrack)return e[t];var r=bucket.get(e),e=(r||bucket.set(e,r=new Map),r.get(t));e||r.set(t,e=new Set),e.add(activeEffect),activeEffect.deps.push(e)}function trigger(e,t,r,n){var o,a,i=bucket.get(e);i&&(a=i.get(t),o=new Set,a&&a.forEach(function(e){e!==activeEffect&&o.add(e)}),"ADD"===r&&Array.isArray(e)&&(a=i.get("length"))&&a.forEach(function(e){e!==activeEffect&&o.add(e)}),Array.isArray(e)&&"length"===t&&i.forEach(function(e,t){n<=t&&e.forEach(function(e){e!==activeEffect&&o.add(e)})}),("ADD"===r||"DELETE"===r||"SET"===r&&isMap(e))&&((a=i.get(ITERATE_KEY))&&a.forEach(function(e){e!==activeEffect&&o.add(e)}),t=i.get(MAP_KEY_ITERATE_KEY))&&t.forEach(function(e){e!==activeEffect&&o.add(e)}),o.forEach(function(e){e.options.scheduler?e.options.scheduler(e):e()}))}var Text=Symbol(),Comment=Symbol(),Fragment=Symbol();function createElement(e){return document.createElement(e)}function setElementText(e,t){e.textContent=t}function insert(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(t="root"===t.type?document.getElementById("app"):t).insertBefore(e,r)}function createText(e){return document.createTextNode(e)}function setText(e,t){e.nodeValue=t}function createComment(e){return document.createComment(e)}function shouldSetAsProps(e,t,r){return("form"!==t||"INPUT"!==e.tagName)&&t in e}function patchProps(e,t,r,n){var o,a;/^on/.test(t)?(o=(e._vei||(e._vei={}))[t],a=t.slice(2).toLowerCase(),n?o?o.value=n:((o=e._vei[t]=function(t){t.timeStamp<o.attached||(Array.isArray(o.value)?o.value.forEach(function(e){return e(t)}):o.value(t))}).value=n,o.attached=performance.now(),e.addEventListener(a,o)):o&&e.removeEventListener(a,o),e.addEventListener(a,n)):"class"===t?e.className=n||"":shouldSetAsProps(e,t)?(a=_typeof(e[t]),e[t]="boolean"===a&&""===n||n):e.setAttribute(t,n)}var queue=new Set,isFlushing=!1,p=Promise.resolve();function queueJob(e){queue.add(e),isFlushing||(isFlushing=!0,p.then(function(){try{queue.forEach(function(e){return e()})}finally{isFlushing=!1,queue.clear=0}}))}var currentInstance=null;function setCurrentInstance(e){currentInstance=e}function resolveProps(e,t){var r,n={},o={};for(r in t)r in e||r.startsWith("on")?n[r]=t[r]:o[r]=t[r];return[n,o]}function hasPropsChanged(e,t){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var n=0;n<r.length;n++){var o=r[n];if(t[o]!==e[o])return!0}return!1}function createRenderer(e){var b=e.createElement,j=e.setElementText,N=e.insert,A=e.patchProps,T=e.createText,_=e.setText,S=e.createComment;function R(e){var t;e.type===Fragment?e.children.forEach(R):"object"===_typeof(e.type)?e.shouldKeepAlive?e.keepAliveInstance._deActivate(e):R(e.component.subTree):(t=e.el.parentNode)&&t.removeChild(e.el)}function I(e,t,r){var n="function"==typeof e.type,o=e.type,n=o=n?{render:e.type,props:e.type.props}:o,a=n.render,o=n.data,i=n.setup,c=n.props,l=n.beforeCreate,u=n.created,s=n.beforeMount,f=n.mounted,p=n.beforeUpdate,d=n.updated,n=(l&&l(),o?reactive(o()):null),l=_slicedToArray(resolveProps(c,e.props),2),o=l[0],c=l[1],l=e.children||{},h={state:n,props:shallowReactive(o),isMounted:!1,subTree:null,slots:l,mounted:[],keepAliveCtx:null};e.type.__isKeepAlive&&(h.keepAliveCtx={move:function(e,t,r){N(e.component.subTree.el,t,r)},createElement:b}),setCurrentInstance(h);var n={attrs:c,emit:function(e){var t="on".concat(e[0].toUpperCase()+e.slice(1));if(t=h.props[t]){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.apply(void 0,n)}else console.error("事件不存在")},slots:l,onMounted:function(e){currentInstance?currentInstance.mounted.push(e):console.error("onMounted 函数只能在 setup 中调用")}},o=i(shallowReadonly(h.props),n),y=(setCurrentInstance(null),null),v=("function"==typeof o?(a&&console.error("setup 函数返回渲染函数，render 选项将被忽略"),_readOnlyError("render")):y=o,e.component=h,new Proxy(h,{get:function(e,t,r){var n=e.state,o=e.props,e=e.slots;return"$slots"===t?e:n&&t in n?n[t]:t in o?o[t]:y&&t in y?y[t]:void console.error("不存在")},set:function(e,t,r,n){var o=e.state,e=e.props;o&&t in o?o[t]=r:t in e?console.warn('Attempting to mutate prop "'.concat(t,'". Propsare readonly.')):y&&t in y?y[t]=r:console.error("不存在")}}));u&&u.call(v),effect(function(){var e=a.call(v,v);h.isMounted?(p&&p.call(v),M(h.subTree,e,t,r),d&&d.call(v)):(s&&s.call(v),M(null,e,t,r),h.isMounted=!0,f&&f.call(v),h.mounted&&h.mounted.forEach(function(e){return e.call(v)})),h.subTree=e},{scheduler:queueJob})}function w(e,t,r){if("string"==typeof t.children)Array.isArray(e.children)&&e.children.forEach(R),j(r,t.children);else if(Array.isArray(t.children))if(Array.isArray(e.children)){for(var n=e,o=t,a=r,i=n.children,c=o.children,l=0,u=i[l],s=c[l];u.key===s.key;)M(u,s,a),u=i[++l],s=c[l];var f=i.length-1,p=c.length-1;for(u=i[f],s=c[p];u.key===s.key;)M(u,s,a),u=i[--f],s=c[--p];if(f<l&&l<=p)for(var d=(n=p+1)<c.length?c[n].el:null;l<=p;)M(null,c[l++],a,d);else if(p<l&&l<=f)for(;l<=f;)R(i[l++]);else{for(var h=p-l+1,y=new Array(h),o=(y.fill(-1),l),v=l,m=!1,g=0,E={},b=v;b<=p;b++)E[c[b].key]=b;for(var A=0,T=o;T<=f;T++){var _,u=i[T];A<=h&&void 0!==(_=E[u.key])?(M(u,s=c[_],a),A++,y[_-v]=T,_<g?m=!0:g=_):R(u)}if(m)for(var S,I,w,k=lis(y),x=k.length-1,P=h-1;0<=P;P--)-1===y[P]?M(null,c[S=P+v],a,(S=S+1)<c.length?c[S].el:null):P!==k[x]?(I=c[S=P+v],w=(w=S+1)<c.length?c[w].el:null,N(I.el,a,w)):x--}}else j(r,""),t.children.forEach(function(e){return M(null,e,r)});else Array.isArray(e.children)?e.children.forEach(R):"string"==typeof e.children&&j(r,"")}function M(e,t,r,n){e&&e.type!==t.type&&(R(e),e=null);var o=t.type;if("string"==typeof o)if(e){var a,i,c=e,l=t,u=l.el=c.el,s=c.props,f=l.props;for(a in f)f[a]!==s[a]&&A(u,a,s[a],f[a]);for(i in s)i in f||A(u,i,s[i],null);w(c,l,u)}else{var p=t,c=r,l=n,d=p.el=b(p.type);if("string"==typeof p.children?j(d,p.children):Array.isArray(p.children)&&p.children.forEach(function(e){M(null,e,d)}),p.props)for(var h in p.props)A(d,h,null,p.props[h]);N(d,c,l)}else if(o===Text)e?(y=t.el=e.el,t.children!==e.children&&_(y,t.children)):(y=t.el=T(t.children),N(y,r));else if(o===Comment)e?(y=t.el=e.el,t.children!==e.children&&_(y,t.children)):(y=t.el=S(t.children),N(y,r));else if(o===Fragment)e?w(e,t,r):t.children.forEach(function(e){return M(null,e,r)});else if("object"===_typeof(o)&&o.__isTeleport)o.process(e,t,r,n,{patch:M,patchChildren:w,unmount:R,move:function(e,t,r){N((e.component?e.component.subTree:e).el,t,r)}});else if("object"===_typeof(o)||"function"==typeof o)if(e){var y=e,o=t,v=(o.component=y.component).props;if(hasPropsChanged(y.props,o.props)){var m,g,E=_slicedToArray(resolveProps(o.type.props,o.props),1)[0];for(m in E)v[m]=E[m];for(g in v)g in E||delete v[g]}}else t.keptAlive&&t.keepAliveInstance._activate(t,r,n),I(t,r,n)}return{render:function(e,t){e?M(t._vnode,e,t):t._vnode&&R(t._vnode),t._vnode=e},hydrate:function(e,t){}}}var Teleport={__isTeleport:!0,process:function(e,t,r,n,o){var a,i,c=o.patch,l=o.patchChildren,u=o.move;e?(l(e,t,r),t.props.to!==e.props.to&&(a="string"==typeof t.props.to?document.querySelector(t.props.to):t.props.to,t.children.forEach(function(e){return u(e,a)}))):(i="string"==typeof t.props.to?document.querySelector(t.props.to):t.props.to,t.children.forEach(function(e){return c(null,e,i,n)}))}};function createStringLiteral(e){return{type:"StringLiteral",value:e}}function createIdentifier(e){return{type:"Identifier",name:e}}function createArrayExpression(e){return{type:"ArrayExpression",elements:e}}function createCallExpression(e,t){return{type:"CallExpression",callee:createIdentifier(e),arguments:t}}var State={initial:1,tagOpen:2,tagName:3,text:4,tagEnd:5,tagEndName:6};function isAlpha(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"}function tokenize(e){for(var t=State.initial,r=[],n=[];e;){var o=e[0];switch(t){case State.initial:"<"===o?(t=State.tagOpen,e=e.slice(1)):isAlpha(o)&&(t=State.text,r.push(o),e=e.slice(1));break;case State.tagOpen:isAlpha(o)?(t=State.tagName,r.push(o),e=e.slice(1)):"/"===o&&(t=State.tagEnd,e=e.slice(1));break;case State.tagName:isAlpha(o)?(r.push(o),e=e.slice(1)):">"===o&&(t=State.initial,n.push({type:"tag",name:r.join("")}),r.length=0,e=e.slice(1));break;case State.text:isAlpha(o)?(r.push(o),e=e.slice(1)):"<"===o&&(t=State.tagOpen,n.push({type:"text",content:r.join("")}),r.length=0,e=e.slice(1));break;case State.tagEnd:isAlpha(o)&&(t=State.tagEndName,r.push(o),e=e.slice(1));break;case State.tagEndName:isAlpha(o)?(r.push(o),e=e.slice(1)):">"===o&&(t=State.initial,n.push({type:"tagEnd",name:r.join("")}),r.length=0,e=e.slice(1))}}return n}function traverseNode(e,t){t.currentNode=e;for(var r=[],n=t.nodeTransforms,o=0;o<n.length;o++){var a=n[o](t.currentNode,t);if(a&&r.push(a),!t.currentNode)return}var i=t.currentNode.children;if(i)for(var c=0;c<i.length;c++)t.parent=t.currentNode,traverseNode(i[t.childIndex=c],t);for(var l=r.length;l--;)r[l]()}function transformElement(t){return function(){var e;"Element"===t.type&&(e=createCallExpression("h",[createStringLiteral(t.tag)]),1===t.children.length?e.arguments.push(t.children[0].jsNode):e.arguments.push(createArrayExpression(t.children.map(function(e){return e.jsNode}))),t.jsNode=e)}}function transformText(e,t){"Text"===e.type&&(e.jsNode=createStringLiteral(e.content))}function transform(e){var t={currentNode:null,childIndex:0,parent:null,replaceNode:function(e){t.parent.children[t.childIndex]=e,t.currentNode=e},removeNode:function(){t.parent&&(t.parent.children.splice(t.childIndex,1),t.currentNode=null)},nodeTransforms:[transformElement,transformText]};traverseNode(e,t)}function parse(e){for(var t=tokenize(e),e={type:"Root",children:[]},r=[e];t.length;){var n=r[r.length-1],o=t[0];switch(o.type){case"tag":var a={type:"Element",tag:o.name,children:[]};n.children.push(a),r.push(a);break;case"text":a={type:"Text",content:o.content};n.children.push(a);break;case"tagEnd":r.pop()}t.shift()}return e}function genNode(e,t){console.log(e)}function generate(e){var t={code:"",push:function(e){t.code+=e},currentIndent:0,newline:function(){t.code+="\n"+" ".repeat(t.currentIndent)},indent:function(){t.currentIndent++,t.newline()},deIndent:function(){t.currentIndent--,t.newline()}};return genNode(e),t.code}function compile(e){e=parse(e);return console.log(e),transform(e),generate(e.jsNode)}var renderer=createRenderer({createElement:createElement,setElementText:setElementText,insert:insert,patchProps:patchProps,createText:createText,setText:setText,createComment:createComment}),vnode={type:"div",props:{title:"A big Title"},children:[{type:Teleport,props:{to:"body"},children:[{type:"h1",children:"Title"},{type:"p",children:"content"}]}]};renderer.render(vnode,document.querySelector("#app")),tokenize("<div><p>Vue</p><p>Template</p></div>"),compile("<div><p>Vue</p><p>Template</p></div>");
//# sourceMappingURL=vue.cjs.js.map
